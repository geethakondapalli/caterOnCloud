{"ast":null,"code":"var _jsxFileName = \"/Users/ashokdonepudi/Documents/CaterOnCloud/mycloudkitchen-frontend/src/pages/StripeCardPayment.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Loader2, CreditCard, Lock } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StripeCardPayment = ({\n  onPaymentSuccess,\n  onCancel,\n  amount,\n  orderData\n}) => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [stripe, setStripe] = useState(null);\n  const [elements, setElements] = useState(null);\n  const [cardElement, setCardElement] = useState(null);\n  const [error, setError] = useState('');\n  const [billingDetails, setBillingDetails] = useState({\n    name: '',\n    email: '',\n    phone: ''\n  });\n\n  // Initialize Stripe\n  useEffect(() => {\n    const initializeStripe = async () => {\n      if (window.Stripe) {\n        const stripeInstance = window.Stripe('pk_test_your_publishable_key_here'); // Replace with your key\n        const elementsInstance = stripeInstance.elements();\n        const cardElementInstance = elementsInstance.create('card', {\n          style: {\n            base: {\n              fontSize: '16px',\n              color: '#374151',\n              fontFamily: '\"Inter\", \"system-ui\", sans-serif',\n              '::placeholder': {\n                color: '#9CA3AF'\n              },\n              iconColor: '#6B7280'\n            },\n            invalid: {\n              color: '#EF4444',\n              iconColor: '#EF4444'\n            },\n            complete: {\n              color: '#10B981',\n              iconColor: '#10B981'\n            }\n          },\n          hidePostalCode: true\n        });\n        setStripe(stripeInstance);\n        setElements(elementsInstance);\n        setCardElement(cardElementInstance);\n\n        // Mount the card element\n        setTimeout(() => {\n          const cardContainer = document.getElementById('card-element-mount');\n          if (cardContainer && cardElementInstance) {\n            cardElementInstance.mount('#card-element-mount');\n\n            // Handle real-time validation errors\n            cardElementInstance.on('change', ({\n              error\n            }) => {\n              setError(error ? error.message : '');\n            });\n          }\n        }, 100);\n      } else {\n        setError('Stripe failed to load. Please refresh the page.');\n      }\n    };\n\n    // Load Stripe script if not already loaded\n    if (!window.Stripe) {\n      const script = document.createElement('script');\n      script.src = 'https://js.stripe.com/v3/';\n      script.onload = initializeStripe;\n      document.head.appendChild(script);\n    } else {\n      initializeStripe();\n    }\n    return () => {\n      // Cleanup\n      if (cardElement) {\n        cardElement.unmount();\n      }\n    };\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!stripe || !elements || !cardElement) {\n      setError('Stripe has not loaded yet. Please try again.');\n      return;\n    }\n    if (!billingDetails.name || !billingDetails.email) {\n      setError('Please fill in all required fields.');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      // Step 1: Create PaymentIntent on your backend\n      const response = await fetch('/create-payment-intent', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          amount: amount,\n          currency: 'gbp',\n          order_id: (orderData === null || orderData === void 0 ? void 0 : orderData.id) || 'test_order'\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to create payment intent');\n      }\n      const {\n        client_secret\n      } = await response.json();\n\n      // Step 2: Confirm payment with Stripe\n      const {\n        error,\n        paymentIntent\n      } = await stripe.confirmCardPayment(client_secret, {\n        payment_method: {\n          card: cardElement,\n          billing_details: {\n            name: billingDetails.name,\n            email: billingDetails.email,\n            phone: billingDetails.phone || undefined\n          }\n        }\n      });\n      if (error) {\n        setError(error.message);\n      } else {\n        // Payment succeeded\n        onPaymentSuccess === null || onPaymentSuccess === void 0 ? void 0 : onPaymentSuccess(paymentIntent);\n      }\n    } catch (err) {\n      setError(err.message || 'An unexpected error occurred. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleInputChange = (field, value) => {\n    setBillingDetails(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto p-6 bg-gray-50 min-h-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-md mx-auto bg-white rounded-lg shadow-lg overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n            className: \"w-6 h-6 text-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-white\",\n            children: \"Complete Payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-blue-100 text-sm mt-1\",\n          children: [\"Total: \\xA3\", (amount / 100).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Full Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: billingDetails.name,\n              onChange: e => handleInputChange('name', e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n              placeholder: \"John Doe\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Email Address *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              value: billingDetails.email,\n              onChange: e => handleInputChange('email', e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n              placeholder: \"john@example.com\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              value: billingDetails.phone,\n              onChange: e => handleInputChange('phone', e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n              placeholder: \"+44 123 456 7890\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Card Information *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"card-element-mount\",\n            className: \"w-full px-3 py-3 border border-gray-300 rounded-md focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-transparent transition-all\",\n            style: {\n              minHeight: '40px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 border border-red-200 rounded-md p-3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-red-600\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 text-sm text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(Lock, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Your payment information is secure and encrypted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onCancel,\n            className: \"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors\",\n            disabled: loading,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handleSubmit,\n            disabled: loading || !stripe,\n            className: \"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors\",\n            children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"w-4 h-4 animate-spin mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this), \"Processing...\"]\n            }, void 0, true) : `Pay £${(amount / 100).toFixed(2)}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n};\n_s(StripeCardPayment, \"TLDZllLjNnHkW0P79/6T0lPz+0Y=\");\n_c = StripeCardPayment;\nexport default StripeCardPayment;\nvar _c;\n$RefreshReg$(_c, \"StripeCardPayment\");","map":{"version":3,"names":["React","useState","useEffect","Loader2","CreditCard","Lock","jsxDEV","_jsxDEV","Fragment","_Fragment","StripeCardPayment","onPaymentSuccess","onCancel","amount","orderData","_s","loading","setLoading","stripe","setStripe","elements","setElements","cardElement","setCardElement","error","setError","billingDetails","setBillingDetails","name","email","phone","initializeStripe","window","Stripe","stripeInstance","elementsInstance","cardElementInstance","create","style","base","fontSize","color","fontFamily","iconColor","invalid","complete","hidePostalCode","setTimeout","cardContainer","document","getElementById","mount","on","message","script","createElement","src","onload","head","appendChild","unmount","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","currency","order_id","id","ok","Error","client_secret","json","paymentIntent","confirmCardPayment","payment_method","card","billing_details","undefined","err","handleInputChange","field","value","prev","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","type","onChange","target","placeholder","required","minHeight","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/ashokdonepudi/Documents/CaterOnCloud/mycloudkitchen-frontend/src/pages/StripeCardPayment.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Loader2, CreditCard, Lock } from 'lucide-react';\n\nconst StripeCardPayment = ({ onPaymentSuccess, onCancel, amount, orderData }) => {\n  const [loading, setLoading] = useState(false);\n  const [stripe, setStripe] = useState(null);\n  const [elements, setElements] = useState(null);\n  const [cardElement, setCardElement] = useState(null);\n  const [error, setError] = useState('');\n  const [billingDetails, setBillingDetails] = useState({\n    name: '',\n    email: '',\n    phone: ''\n  });\n\n  // Initialize Stripe\n  useEffect(() => {\n    const initializeStripe = async () => {\n      if (window.Stripe) {\n        const stripeInstance = window.Stripe('pk_test_your_publishable_key_here'); // Replace with your key\n        const elementsInstance = stripeInstance.elements();\n        \n        const cardElementInstance = elementsInstance.create('card', {\n          style: {\n            base: {\n              fontSize: '16px',\n              color: '#374151',\n              fontFamily: '\"Inter\", \"system-ui\", sans-serif',\n              '::placeholder': {\n                color: '#9CA3AF',\n              },\n              iconColor: '#6B7280',\n            },\n            invalid: {\n              color: '#EF4444',\n              iconColor: '#EF4444',\n            },\n            complete: {\n              color: '#10B981',\n              iconColor: '#10B981',\n            },\n          },\n          hidePostalCode: true,\n        });\n\n        setStripe(stripeInstance);\n        setElements(elementsInstance);\n        setCardElement(cardElementInstance);\n\n        // Mount the card element\n        setTimeout(() => {\n          const cardContainer = document.getElementById('card-element-mount');\n          if (cardContainer && cardElementInstance) {\n            cardElementInstance.mount('#card-element-mount');\n            \n            // Handle real-time validation errors\n            cardElementInstance.on('change', ({ error }) => {\n              setError(error ? error.message : '');\n            });\n          }\n        }, 100);\n      } else {\n        setError('Stripe failed to load. Please refresh the page.');\n      }\n    };\n\n    // Load Stripe script if not already loaded\n    if (!window.Stripe) {\n      const script = document.createElement('script');\n      script.src = 'https://js.stripe.com/v3/';\n      script.onload = initializeStripe;\n      document.head.appendChild(script);\n    } else {\n      initializeStripe();\n    }\n\n    return () => {\n      // Cleanup\n      if (cardElement) {\n        cardElement.unmount();\n      }\n    };\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!stripe || !elements || !cardElement) {\n      setError('Stripe has not loaded yet. Please try again.');\n      return;\n    }\n\n    if (!billingDetails.name || !billingDetails.email) {\n      setError('Please fill in all required fields.');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      // Step 1: Create PaymentIntent on your backend\n      const response = await fetch('/create-payment-intent', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          amount: amount,\n          currency: 'gbp',\n          order_id: orderData?.id || 'test_order'\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to create payment intent');\n      }\n\n      const { client_secret } = await response.json();\n\n      // Step 2: Confirm payment with Stripe\n      const { error, paymentIntent } = await stripe.confirmCardPayment(client_secret, {\n        payment_method: {\n          card: cardElement,\n          billing_details: {\n            name: billingDetails.name,\n            email: billingDetails.email,\n            phone: billingDetails.phone || undefined,\n          },\n        }\n      });\n\n      if (error) {\n        setError(error.message);\n      } else {\n        // Payment succeeded\n        onPaymentSuccess?.(paymentIntent);\n      }\n    } catch (err) {\n      setError(err.message || 'An unexpected error occurred. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (field, value) => {\n    setBillingDetails(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-6 bg-gray-50 min-h-screen\">\n      <div className=\"max-w-md mx-auto bg-white rounded-lg shadow-lg overflow-hidden\">\n        {/* Header */}\n        <div className=\"bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4\">\n          <div className=\"flex items-center space-x-2\">\n            <CreditCard className=\"w-6 h-6 text-white\" />\n            <h2 className=\"text-xl font-semibold text-white\">Complete Payment</h2>\n          </div>\n          <p className=\"text-blue-100 text-sm mt-1\">\n            Total: £{(amount / 100).toFixed(2)}\n          </p>\n        </div>\n\n        {/* Payment Form */}\n        <div className=\"p-6 space-y-4\">\n          {/* Billing Details */}\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Full Name *\n              </label>\n              <input\n                type=\"text\"\n                value={billingDetails.name}\n                onChange={(e) => handleInputChange('name', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"John Doe\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Email Address *\n              </label>\n              <input\n                type=\"email\"\n                value={billingDetails.email}\n                onChange={(e) => handleInputChange('email', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"john@example.com\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Phone Number\n              </label>\n              <input\n                type=\"tel\"\n                value={billingDetails.phone}\n                onChange={(e) => handleInputChange('phone', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"+44 123 456 7890\"\n              />\n            </div>\n          </div>\n\n          {/* Card Element */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Card Information *\n            </label>\n            <div \n              id=\"card-element-mount\"\n              className=\"w-full px-3 py-3 border border-gray-300 rounded-md focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-transparent transition-all\"\n              style={{ minHeight: '40px' }}\n            />\n          </div>\n\n          {/* Error Display */}\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 rounded-md p-3\">\n              <p className=\"text-sm text-red-600\">{error}</p>\n            </div>\n          )}\n\n          {/* Security Notice */}\n          <div className=\"flex items-center space-x-2 text-sm text-gray-500\">\n            <Lock className=\"w-4 h-4\" />\n            <span>Your payment information is secure and encrypted</span>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex space-x-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors\"\n              disabled={loading}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"button\"\n              onClick={handleSubmit}\n              disabled={loading || !stripe}\n              className=\"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors\"\n            >\n              {loading ? (\n                <>\n                  <Loader2 className=\"w-4 h-4 animate-spin mr-2\" />\n                  Processing...\n                </>\n              ) : (\n                `Pay £${(amount / 100).toFixed(2)}`\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default StripeCardPayment;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}